@import "compass/reset";
@import "compass/css3";


html,
body,
#map {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

strong { font-weight: bold; }


/*
 * BUTTONS
 */

.timeline_control {
  position: absolute;
  z-index: 10;
  top: 40px;
  left: 40px;
}

.analysis_control {
  position: absolute;
  z-index: 10;
  top: 40px;
  right: 40px;
}

.button {
  display: block;
  float: left;
  width: 36px;
  height: 36px;
  border:1px solid #000;
  background: #fff;
  @include border-radius(5px);
  outline: none;
}

.analysis_explanation {
  position: absolute;
  right: 5px;
  width: 445px;
  height: 38px;
  @include border-radius(5px);
  overflow: hidden;

  p {
    display: block;
    float: right;
    margin-right: -256px;
    padding: 0 20px 0 10px;
    line-height: 38px;
    font-size: 13px;
    background: rgba(#000, .7);
    color: #fff;
    @include border-radius(5px);
  }
}

.analysis {
  position: absolute;
  right: 0;
  display: inline-block;
  width: 100px;
  line-height: 36px;
  padding: 0 10px 0 15px;
  font-size: 14px;
  color: #FF2626;
  text-decoration: none;
  text-align: center;

  i {
    display: block;
    position: absolute;
    top: 7px;
    left: -11px;
    height: 22px;
    width: 22px;
    background: image-url('analysis.png');
    @include transition(all, .15s);

    &.active { @include rotate(45deg); }
  }
}

.fullscreen {
  background: #fff image-url('fullscreen.png') no-repeat center;
}


/*
 * TIMELINE
 *
 * - visible_years: 1
 * - range: 2
 * - years: 3
 * - handles: 4
 */

.timeline {
  position: absolute;
  z-index: 10;
  left: 40px; bottom: 40px;
  width: 644px;
  height: 150px;
  border:1px solid #000;
  background: #fff;
  @include border-radius(5px);
  @include box-shadow(0 0 6px 1px rgba(#000, .15));
  overflow: hidden;

  &.collapsed {
    left: 20px;
    bottom: 20px;

    .hamburger a { @include border-bottom-left-radius(5px); }

    .slider { @include border-top-right-radius(5px); }

    .range .square { display: none; }
  }
}

.hamburger {
  position: relative;
  z-index: 100;
  width: 48px;
  height: 150px;
  border-right: 1px solid #e5e5e5;

  a {
    display: block;
    float: left;
    width: 48px;
    height: 44px;
    border-bottom: 1px solid #e5e5e5;
    border-right: 1px solid #e5e5e5;
    @include border-top-left-radius(5px);
    background: url(../images/timeline-sprite.png) no-repeat;

    &:active {
      border-color: #89C0E5;
      background-color: #99D6FF;
      background-position: 0 -44px;
    }
  }
}

.play {
  display: inline-block;
  position: absolute;
  top: 12px; left: 14px;
  height: 20px;
  width: 20px;
  @include box-shadow(0 0 0 1px #359FFB);
  @include background(linear-gradient(#fff, #eee));
  background: image-url('play.png') no-repeat center;
  @include border-radius(13px);
  vertical-align: middle;

  &:hover,
  &:active {
    margin-left: -1px;
    top: 11px;
    height: 22px;
    width: 22px;
    @include box-shadow(0 0 0 1px #333);
  }

  &.played { background-image: image-url('play-stopped.png'); }
}

.slider {
  float: left;
  position: absolute;
  bottom: 0; left: 48px;
  height: 44px;
  width: 596px;
  border-top: 1px solid #e5e5e5;
  background: #fff;
  @include border-bottom-right-radius(5px);
}

.time {
  position: absolute;
  top: 12px; right: 20px;
  width: 504px
}

.visible_years {
  position: absolute;
  top: 8px;
  height: 4px;
  background: #ddd;
  width: 504px;
  @include border-radius(2px);
}

.range {
  .line {
    position: absolute;
    z-index: 101;
    top: 8px; left: 0;
    height: 4px;
    width: 42px;
    background: #0099FF;
    @include border-radius(2px);
  }

  .square {
    position: absolute;
    z-index: 100;
    top: -74px; left: 0;
    height: 106px;
    width: 42px;
    border-left: 1px solid #AFBECA;
    border-right: 1px solid #AFBECA;
    background: rgba(#4CA4F7, .2);
  }
}

.years {
  position: absolute;
}

.trail {
  position: absolute;
  top: 0px; left: 0px;
  width: 504px;
  height: 14px;
}

.handle {
  position: absolute;
  z-index: 300;
  top: 2px; left: 0;
  z-index: 300;
  height: 14px;
  width: 14px;
  margin-left: -7px;
  border: 1px solid #359FFB;
  @include background(linear-gradient(#fff, #eee));
  @include border-radius(10px);
  cursor: col-resize;

  &:after {
    display: block;
    content: " ";
    position: absolute;
    top: 4px; left: 4px;
    width: 6px;
    height: 6px;
    background: #359FFB;
    @include border-radius(4px);
  }

  &.ui-draggable-dragging,
  &:hover {
    top: 0;
    margin-left: -9px;
    width: 18px;
    height: 18px;
    border: 1px solid #333;

    &:after {
      top: 6px;
      left: 6px;
    }
  }

  &.right { left: 42px; }
}

.year {
  float: left;

  a {
    position: relative;
    z-index: 200;
    display: inline-block;
    height: 22px;
    width: 42px;
  }
}

.player {
  display: none;
  position: absolute;
  z-index: 400;
  top: -15px;
  left: 95px;
  border-left: 1px solid #A2BE00;
  height: 44px;
  width: 1px;

  .tipsy { display:block; bottom: 43px; left:-36px; }
}

.legend {
  position: absolute;
  top: 0; left: 48px;
  width: 596px;

  .title {
    padding-left: 15px;
    height: 44px;
    border-bottom: 1px solid #e5e5e5;
    font-size: 14px;
    line-height: 44px;
    color: #444;
  }

  svg {
    position: absolute;
    right: 20px;
  }

  .bar {
    fill: #85C1F9;
  }
}
